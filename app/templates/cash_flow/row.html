<tr id="cashflow-row-{{ item.id }}" class="transition hover:bg-blue-50/60 {{ 'opacity-60' if item.status == 'inactive' else '' }}">
  <td class="px-4 py-3">{{ item.date }}</td>
  <td class="px-4 py-3">{{ item.account.name if item.account else '' }}</td>
  <td class="px-4 py-3">{{ item.category.name if item.category else '' }}</td>
  <td class="px-4 py-3">{{ item.flow_type }}</td>
  <td class="px-4 py-3 text-right font-semibold text-blue-600">{{ '%.2f'|format(item.amount) }}</td>
  <td class="px-4 py-3">{{ item.source_type.name if item.source_type else '' }}</td>
  <td class="px-4 py-3">{{ item.remark or '' }}</td>
  <td class="px-4 py-3">
    <div class="flex items-center justify-end gap-3">
      {% if item.status == 'active' %}
      <button
        type="button"
        class="text-sm font-medium text-blue-600 transition hover:text-blue-700"
        hx-get="/cash_flow/edit/{{ item.id }}"
        hx-target="#modal-container"
        hx-swap="innerHTML"
      >
        编辑
      </button>
      <button
        type="button"
        class="text-sm font-medium text-rose-500 transition hover:text-rose-600"
        hx-delete="/cash_flow/{{ item.id }}"
        hx-target="#cashflow-list"
        hx-swap="innerHTML"
        hx-trigger="confirmed"
        data-confirm="确认逻辑删除该收支记录？"
        onclick="window.PFIS.confirmAction(this)"
      >
        删除
      </button>
      {% else %}
      <span class="text-xs text-gray-400">已删除</span>
      {% endif %}
    </div>
  </td>
</tr>
